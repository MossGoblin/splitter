*   TODO:
    -   keep all pairs sorted
    -   add sorting of arrays of pairs
        -   keep only unique values in checked_pairs list
